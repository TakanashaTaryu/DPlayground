<!doctype html>
<html>
<head>
  <script src="https://unpkg.com/picoc-js@1.0.12/dist/bundle.umd.js" type="text/javascript" charset="utf-8"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    #code {
      width: 100%;
      height: 150px;
    }
    #output {
      width: 100%;
      height: 150px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <p>
    You can execute any C code. Just enter something in the box below and
    click the button.
  </p>
  <textarea id="code">#include <stdio.h>
int main() {
  printf("Hello, World!\n");
  return 0;
}</textarea>
  <br />
  <button onclick="evaluateC()">Run</button>
  <br /><br />
  <div>Output:</div>
  <textarea id="output" rows="6" disabled></textarea>

  <script>
    const output = document.getElementById("output");
    const code = document.getElementById("code");

    function addToOutput(s) {
      output.value += s + "\n";
    }

    function evaluateC() {
      let cprog = code.value;
      picocjs.runC(cprog, (out) => { addToOutput(out) });
    }
  </script>
</body>
</html>
